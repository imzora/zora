<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zora | Est. 2007</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@400;500;600;700&family=Pacifico&family=Satisfy&display=swap" rel="stylesheet">
    
    <style>
:root {
    --bg-cream: #FCF9F5;      /* Modern clean cream */
    --red-wine: #630D0D;      /* Deep burgundy/oxblood */
    --red-bright: #C93D3D;    /* Muted berry red */
    --gold: #C5A059;          /* Satin champagne gold */
    --purple: #5A3D81;        /* Deep royal plum */
    --glass: rgba(255, 255, 255, 0.45);
    --glass-border: rgba(255, 255, 255, 0.6);
    --paper: #FDFBFA;         /* Premium stationery white */
    --shadow-soft: 0 8px 32px 0 rgba(99, 13, 13, 0.1); /* Warm tinted shadow */
}
        * { box-sizing: border-box; margin:0; padding:0; }
        body, html {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-cream);
            color: #3c3c3c;
            overflow-x: hidden;
            height: 100%;
        }

        /* Lock Screen - Simplified & Attractive */
        #lock-screen {
            position: fixed;
            inset: 0;
            z-index: 999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #690703 0%, #908351 100%);
            color: white;
            transition: all 1.3s ease-in-out;
        }
        #lock-screen.slide-up {
            transform: translateY(-100%);
            opacity: 0;
        }

        .lang-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        .lang-btn {
            background: rgba(255,255,255,0.18);
            border: 1px solid rgba(255,255,255,0.35);
            color: white;
            padding: 8px 16px;
            border-radius: 999px;
            cursor: pointer;
            font-weight: 600;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        .lang-btn:hover { background: rgba(255,255,255,0.3); }
        .lang-btn.active { background: white; color: #6d28d9; border-color: white; }

        .lock-content {
            text-align: center;
            z-index: 2;
            animation: fadeInUp 1.4s ease-out;
            padding: 20px;
            max-width: 90%;
        }
        @keyframes fadeInUp {
            from { opacity:0; transform:translateY(40px); }
            to   { opacity:1; transform:translateY(0); }
        }

        .birthday-decorations { font-size: 3.2rem; margin-bottom: 16px; animation: bounce 2.4s infinite; }
        @keyframes bounce { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-12px); } }

        .title-name {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(8rem, 28vw, 22rem);
            color: white;
            margin: 0;
            letter-spacing: 2px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3), 0 0 40px rgba(255,182,255,0.6);
            animation: softGlow 4s ease-in-out infinite alternate;
        }
        @keyframes softGlow {
            from { text-shadow: 0 4px 20px rgba(0,0,0,0.3), 0 0 30px rgba(216,180,255,0.5); }
            to   { text-shadow: 0 8px 30px rgba(0,0,0,0.4), 0 0 60px rgba(192,132,255,0.7); }
        }

        .subtitle { 
            font-family: 'Dancing Script', cursive; 
            font-size: clamp(2.2rem, 6vw, 3.5rem); 
            margin: 16px 0 70px; 
            opacity: 0.95; 
        }

        .pin-box {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 32px;
            padding: 50px 70px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.25);
            max-width: 420px;
            width: 90%;
        }
        .pin-label {
            font-size: 1.3rem;
            font-weight: 700;
            letter-spacing: 5px;
            text-transform: uppercase;
            margin-bottom: 32px;
        }
        input[type="password"] {
            font-size: 3rem;
            width: 240px;
            padding: 18px 0;
            letter-spacing: 18px;
            background: transparent;
            border: none;
            border-bottom: 4px solid rgba(255,255,255,0.8);
            color: white;
            text-align: center;
            outline: none;
            transition: all 0.3s;
        }
        input:focus { border-bottom-color: white; transform: scale(1.04); }

        .btn-open {
            margin-top: 40px;
            padding: 18px 80px;
            background: white;
            color: #6d28d9;
            border: none;
            border-radius: 999px;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 4px;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.4s ease;
        }
        .btn-open:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 15px 40px rgba(0,0,0,0.35); }

        #error { color:#fff; font-size:1rem; margin-top:24px; display:none; text-shadow:0 2px 8px rgba(0,0,0,0.4); }

        /* Main Content */
        #main-content {
            display: none;
            padding: 80px 20px 120px;
            max-width: 960px;
            margin: 0 auto;
        }

        h2 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(3.5rem, 10vw, 6rem);
            background: linear-gradient(135deg, var(--red-wine), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin: 0 0 48px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.22,1,0.36,1);
        }
        h2.visible { opacity:1; transform:translateY(0); }

        /* Music Player */
        .liquid-player {
            background: var(--glass);
            backdrop-filter: blur(24px) saturate(190%);
            border: 1px solid var(--glass-border);
            border-radius: 28px;
            padding: 28px;
            box-shadow: var(--shadow-soft);
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.22,1,0.36,1);
        }
        .liquid-player.visible { opacity:1; transform:translateY(0); }

        .player-row {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .player-art img {
            width: 64px;
            height: 64px;
            border-radius: 14px;
            object-fit: cover;
            box-shadow: 0 6px 20px rgba(0,0,0,0.25);
        }
        .player-info { flex:1; min-width:0; }
        .song-title { font-weight:600; font-size:1.15rem; color:var(--purple); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
        .artist { font-size:0.9rem; color:#555; }

        #playPause {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.65);
            backdrop-filter: blur(10px);
            color: var(--purple);
            font-size: 1.4rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #playPause:hover { transform:scale(1.12); background:rgba(255,255,255,0.9); }

        .progress-container {
            flex:1;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 999px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: inset 0 1px 4px rgba(0,0,0,0.15);
        }
        #progress-bar {
            height:100%;
            width:0;
            background: linear-gradient(90deg, var(--purple), var(--gold));
            border-radius: 999px;
            transition: width 0.12s linear;
        }

        #time { font-size:0.85rem; color:#666; min-width:90px; text-align:right; }

        /* Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 40px;
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.22,1,0.36,1);
        }
        .gallery-grid.visible { opacity:1; transform:translateY(0); }

        .polaroid {
            background: white;
            padding: 16px 16px 48px;
            border-radius: 12px;
            box-shadow: 0 10px 28px rgba(0,0,0,0.14);
            transform: rotate(-2deg);
            transition: all 0.55s cubic-bezier(0.34,1.56,0.64,1);
        }
        .polaroid:nth-child(even) { transform: rotate(2deg); }
        .polaroid:nth-child(3n) { transform: rotate(-3deg); }
        .polaroid:hover {
            transform: scale(1.16) rotate(0deg) translateY(-14px);
            box-shadow: 0 24px 56px rgba(0,0,0,0.22);
            z-index: 5;
        }
        .polaroid img {
            width: 100%;
            height: 240px;
            object-fit: cover;
            border-radius: 6px;
            filter: sepia(0.12) contrast(1.08);
            transition: transform 0.7s ease;
        }
        .polaroid:hover img { transform: scale(1.06); }
        .caption {
            font-family: 'Great Vibes', cursive;
            font-size: 1.8rem;
            text-align: center;
            margin-top: 16px;
            color: #444;
            transition: all 0.4s;
        }
        .polaroid:hover .caption { transform: translateY(-6px); }

        /* Wishes & Letters */
        .wishes-section, .letters-section {
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.22,1,0.36,1);
        }
        .wishes-section.visible, .letters-section.visible { opacity:1; transform:translateY(0); }

        .wishes-section {
            background: linear-gradient(135deg, rgba(255,255,255,0.92), rgba(249,245,237,0.92));
            border-radius: 28px;
            padding: 48px 32px;
            border: 1px solid rgba(212,175,55,0.25);
            box-shadow: var(--shadow-soft);
            margin-bottom: 80px;
        }
        .wish-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.35rem;
            line-height: 1.9;
            text-align: center;
            color: #2e2e2e;
            font-style: italic;
        }

        .letters-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 36px;
            margin-bottom: 80px;
        }
        .envelope {
            width: 160px;
            height: 110px;
            background: linear-gradient(135deg, var(--paper), #f5efdf);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            border: 1px solid rgba(212,175,55,0.3);
            transition: all 0.45s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .envelope:hover { transform: translateY(-12px) scale(1.06); box-shadow: 0 20px 48px rgba(0,0,0,0.2); }
        .envelope::before {
            content: '';
            position: absolute;
            top:0; left:50%; transform:translateX(-50%);
            width:0; height:0;
            border-left: 80px solid transparent;
            border-right: 80px solid transparent;
            border-top: 54px solid var(--gold);
            opacity: 0.65;
        }
        .seal {
            width: 36px;
            height: 36px;
            background: radial-gradient(circle, var(--gold), var(--red-wine));
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            z-index: 2;
        }
        .env-label {
            position: absolute;
            bottom: -38px;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--red-wine);
        }

        /* Modal */
        #letter-modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.65);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        .paper-note {
            background: linear-gradient(135deg, #fffef8, #fbf8ef);
            border: 2px solid rgba(212,175,55,0.35);
            border-radius: 16px;
            padding: 60px 48px;
            max-width: 560px;
            width: 92%;
            box-shadow: 0 20px 70px rgba(0,0,0,0.3), 0 0 0 1px rgba(212,175,55,0.15);
            font-family: 'Great Vibes', cursive;
            font-size: 2.2rem;
            line-height: 1.75;
            position: relative;
            animation: paperPop 0.6s cubic-bezier(0.68,-0.55,0.265,1.55);
        }
        @keyframes paperPop {
            0%   { transform:scale(0.6) rotate(-6deg); opacity:0; }
            100% { transform:scale(1) rotate(0deg); opacity:1; }
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 24px;
            font-size: 2.4rem;
            color: var(--red-wine);
            cursor: pointer;
            transition: all 0.3s;
        }
        .close-btn:hover { transform: rotate(90deg) scale(1.2); }

        /* Footer */
        .footer {
            text-align: center;
            padding: 60px 20px 40px;
            color: #777;
            font-size: 0.95rem;
        }
        .footer-heart { color: var(--red-bright); animation: heartbeat 1.6s infinite; }
        @keyframes heartbeat { 0%,100% { transform:scale(1); } 40% { transform:scale(1.3); } }

        /* Responsive */
        @media (max-width: 768px) {
            .pin-box { padding: 48px 36px; width:90%; max-width:420px; border-radius:28px; }
            input[type="password"] { font-size:2.4rem; width:200px; letter-spacing:14px; }
            .title-name { font-size: clamp(6rem, 22vw, 12rem); }
            .subtitle { font-size:2rem; margin-bottom:60px; }
            .gallery-grid { gap:28px; }
            .polaroid { padding:14px 14px 40px; }
            .polaroid img { height:200px; }
            .envelope { width:140px; height:96px; }
            .envelope::before { border-left-width:70px; border-right-width:70px; border-top-width:48px; }
            .paper-note { padding:48px 32px; font-size:1.9rem; }
            h2 { margin-bottom:40px; }
        }

        @media (max-width: 480px) {
            .player-row { flex-direction:column; gap:16px; }
            #time { text-align:center; min-width:auto; }
            .player-art img { width:80px; height:80px; }
            .pin-box { padding: 40px 30px; }
            .btn-open { padding: 16px 60px; font-size:1.1rem; }
        }
    </style>
</head>
<body>

<div id="lock-screen">
    <div class="lang-switcher">
        <button class="lang-btn active" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="fr">FR</button>
    </div>

    <div class="lock-content">

        <h1 class="title-name">Zora</h1>
        <p class="subtitle" data-key="subtitle">2007 - 2026</p>

        <div class="pin-box">
            <p class="pin-label" data-key="pin-label">ENTER PIN</p>
            <input type="password" id="pin" maxlength="4" placeholder="â€¢â€¢â€¢â€¢" inputmode="numeric" aria-label="PIN code">
            <button class="btn-open" data-key="unlock-btn">UNLOCK</button>
            <p id="error" data-key="error">Try again bestie â™¡</p>
        </div>
    </div>
</div>

<div id="main-content">

    <h2 data-key="main-title">Happy 19th Birthday</h2>
    <p style="text-align:center; color:#555; font-size:1.15rem; font-style:italic; margin-bottom:64px;" data-key="main-subtitle">A celebration of you âœ¨</p>

    <!-- Music -->
    <h2 data-key="vibe-title">Your Vibe</h2>
    <div class="liquid-player">
        <audio id="audio" src="music.mp3" preload="metadata"></audio>

        <div class="player-row">
            <div class="player-art">
                <img src="https://images.unsplash.com/photo-1611339555312-e607c8352fd7?w=180" alt="Album art" loading="lazy">
            </div>
            <div class="player-info">
                <div class="song-title">For Zora</div>
                <div class="artist">your bestie â€¢ 2026</div>
            </div>
        </div>

        <div class="player-row" style="margin-top:24px;">
            <button id="playPause" aria-label="Play or pause music">â–¶</button>
            <div class="progress-container">
                <div id="progress-bar"></div>
            </div>
            <span id="time">0:00 / 0:00</span>
        </div>
    </div>

    <!-- Gallery -->
    <h2 data-key="memories-title">Her Glow</h2>
    <div class="gallery-grid">
        <div class="polaroid"><img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=600" loading="lazy" alt=""><div class="caption">Day 1</div></div>
        <div class="polaroid"><img src="https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?w=600" loading="lazy" alt=""><div class="caption">So crazy</div></div>
        <div class="polaroid"><img src="https://images.unsplash.com/photo-1517021897933-0e0319cfbc28?w=600" loading="lazy" alt=""><div class="caption">Love u</div></div>
        <div class="polaroid"><img src="https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=600" loading="lazy" alt=""><div class="caption">Vibes</div></div>
    </div>

    <!-- Message -->
    <h2 data-key="message-title">A Message For You</h2>
    <div class="wishes-section">
        <p class="wish-text" data-key="message-text">
            "I wish you a year filled with joy, good memories, and success. You're an amazing person, and I'm glad to know you. Happy 19th birthday ðŸ©·"
        </p>
    </div>

    <!-- Letters -->
    <h2 data-key="letters-title">Open When...</h2>
    <div class="letters-section">
        <div class="envelope" data-type="Birthday"><div class="seal"></div><div class="env-label" data-key="letter-feb">It's Feb 12</div></div>
        <div class="envelope" data-type="Sad"><div class="seal"></div><div class="env-label" data-key="letter-sad">You're Sad</div></div>
        <div class="envelope" data-type="Happy"><div class="seal"></div><div class="env-label" data-key="letter-happy">You're Happy</div></div>
        <div class="envelope" data-type="Stressed"><div class="seal"></div><div class="env-label" data-key="letter-stressed">You're Stressed</div></div>
    </div>

    <div class="footer">
        Made with <span class="footer-heart">â™¥</span> by Yacine for Zora
    </div>
</div>

<div id="letter-modal">
    <div class="paper-note">
        <span class="close-btn" aria-label="Close letter">Ã—</span>
        <p id="letter-text"></p>
    </div>
</div>

<script>
const currentLang = { value: 'en' };

const translations = {
    en: {
        subtitle: "2007 - 2026",
        "pin-label": "ENTER PIN",
        "unlock-btn": "UNLOCK",
        error: "Try again bestie â™¡",
        "main-title": "Happy 19th Birthday",
        "main-subtitle": "A celebration of you âœ¨",
        "vibe-title": "Your Vibe",
        "memories-title": "Her Glow",
        "message-title": "A Message For You",
        "message-text": "\"I wish you a year filled with joy, good memories, and success. You're an amazing person, and I'm glad to know you. Happy 19th birthday ðŸ©·\"",
        "letters-title": "Open When...",
        "letter-feb": "It's Feb 12",
        "letter-sad": "You're Sad",
        "letter-happy": "You're Happy",
        "letter-stressed": "You're Stressed"
    },
    fr: {
        subtitle: "CrÃ©Ã©e en 2007",
        "pin-label": "ENTREZ LE CODE",
        "unlock-btn": "OUVRIR",
        error: "Essaie encore bestie â™¡",
        "main-title": "Joyeux 19áµ‰ Anniversaire",
        "main-subtitle": "Une cÃ©lÃ©bration pour toi âœ¨",
        "vibe-title": "Ton Ambiance",
        "memories-title": "Son Ã‰clat",
        "message-title": "Un Message Pour Toi",
        "message-text": "\"Je te souhaite une annÃ©e remplie de joie, de beaux souvenirs et de rÃ©ussites. Tu es une personne incroyable et je suis heureux de te connaÃ®tre. Joyeux 19áµ‰ anniversaire ðŸ©·\"",
        "letters-title": "Ouvre quand...",
        "letter-feb": "Câ€™est le 12 fÃ©vrier",
        "letter-sad": "Tu es triste",
        "letter-happy": "Tu es heureuse",
        "letter-stressed": "Tu es stressÃ©e"
    }
};

const lettersContent = {
    en: {
        Birthday: "Happy 19th Birthday Zora! You are one of the most amazing people I know. I hope this year brings you everything you dream of and more. Keep shining! âœ¨",
        Sad: "Hey, I know things feel tough right now, but remember that you are stronger than you think. You've overcome challenges before and you'll get through this too. I'm here for you, always. Keep your head up! ðŸ’ª",
        Happy: "I love seeing you happy! Your smile is contagious and your energy is incredible. Keep spreading that joy and living your best life. You deserve all the happiness in the world! ðŸŒŸ",
        Stressed: "Take a deep breath. You've got this! Remember that it's okay to take things one step at a time. Don't be too hard on yourself - you're doing amazing. Rest when you need to, and know that everything will work out. ðŸŒ¸"
    },
    fr: {
        Birthday: "Joyeux 19áµ‰ anniversaire Zora ! Tu es lâ€™une des personnes les plus extraordinaires que je connaisse. Jâ€™espÃ¨re que cette annÃ©e tâ€™apportera tout ce dont tu rÃªves et bien plus encore. Continue de briller ! âœ¨",
        Sad: "Hey, je sais que câ€™est dur en ce moment, mais souviens-toi que tu es plus forte que tu ne le crois. Tu as dÃ©jÃ  surmontÃ© des Ã©preuves et tu vas traverser celle-ci aussi. Je suis lÃ  pour toi, toujours. Garde la tÃªte haute ! ðŸ’ª",
        Happy: "Jâ€™adore te voir heureuse ! Ton sourire est contagieux et ton Ã©nergie est incroyable. Continue de rÃ©pandre cette joie et de vivre ta meilleure vie. Tu mÃ©rites tout le bonheur du monde ! ðŸŒŸ",
        Stressed: "Respire un grand coup. Tu vas y arriver ! Prends les choses une Ã©tape Ã  la fois. Ne sois pas trop dure avec toi-mÃªme â€” tu fais un super boulot. Repose-toi quand il le faut, tout va sâ€™arranger. ðŸŒ¸"
    }
};

document.addEventListener('DOMContentLoaded', () => {

    // Language switcher
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            currentLang.value = btn.getAttribute('data-lang');
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            updateAllText();
        });
    });

    function updateAllText() {
        document.querySelectorAll('[data-key]').forEach(el => {
            const key = el.getAttribute('data-key');
            if (translations[currentLang.value]?.[key]) {
                el.textContent = translations[currentLang.value][key];
            }
        });
    }
    updateAllText();

    // Unlock
    function unlock() {
        if (document.getElementById('pin').value === '2007') {
            document.getElementById('lock-screen').classList.add('slide-up');
            setTimeout(() => {
                document.getElementById('lock-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                updateAllText();
                document.querySelectorAll('h2, .liquid-player, .gallery-grid, .wishes-section, .letters-section')
                    .forEach(el => el.classList.add('visible'));
            }, 1100);
        } else {
            const err = document.getElementById('error');
            err.style.display = 'block';
            document.getElementById('pin').value = '';
            setTimeout(() => err.style.display = 'none', 2200);
        }
    }

    document.getElementById('pin').addEventListener('keypress', e => {
        if (e.key === 'Enter') unlock();
    });
    document.querySelector('.btn-open').addEventListener('click', unlock);

    // Music player
    const audio = document.getElementById('audio');
    const playPause = document.getElementById('playPause');
    const progressBar = document.getElementById('progress-bar');
    const timeEl = document.getElementById('time');
    let playing = false;

    function formatTime(s) {
        const m = Math.floor(s / 60);
        const sec = Math.floor(s % 60);
        return `${m}:${sec.toString().padStart(2, '0')}`;
    }

    playPause.addEventListener('click', () => {
        if (playing) {
            audio.pause();
            playPause.textContent = 'â–¶';
        } else {
            audio.play().catch(() => {});
            playPause.textContent = 'â¸';
        }
        playing = !playing;
    });

    audio.addEventListener('timeupdate', () => {
        if (!audio.duration) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.style.width = pct + '%';
        timeEl.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
    });

    audio.addEventListener('ended', () => {
        playing = false;
        playPause.textContent = 'â–¶';
    });

    document.querySelector('.progress-container').addEventListener('click', e => {
        const rect = e.currentTarget.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        audio.currentTime = pos * audio.duration;
    });

    // Letters typewriter
    document.querySelectorAll('.envelope').forEach(el => {
        el.addEventListener('click', () => {
            const type = el.dataset.type;
            const msg = lettersContent[currentLang.value][type];
            const textEl = document.getElementById('letter-text');
            textEl.textContent = '';
            document.getElementById('letter-modal').style.display = 'flex';

            let i = 0;
            function typeWriter() {
                if (i < msg.length) {
                    textEl.textContent += msg[i];
                    i++;
                    setTimeout(typeWriter, 40);
                }
            }
            setTimeout(typeWriter, 500);
        });
    });

    document.getElementById('letter-modal').addEventListener('click', e => {
        if (e.target.id === 'letter-modal' || e.target.classList.contains('close-btn')) {
            document.getElementById('letter-modal').style.display = 'none';
        }
    });
});
</script>

</body>
</html>